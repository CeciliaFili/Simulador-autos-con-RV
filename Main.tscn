[gd_scene load_steps=13 format=2]

[ext_resource path="res://Auto.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scripts/Car.gd" type="Script" id=2]
[ext_resource path="res://Assets/Textures/TexturesCom_MetalFloorsBare0063_2_seamless_S.jpg" type="Texture" id=3]
[ext_resource path="res://Assets/Textures/terrain_texture.tres" type="Material" id=4]
[ext_resource path="res://Scripts/Camera.gd" type="Script" id=5]
[ext_resource path="res://Assets/Textures/TexturesCom_Roads0069_1_seamless_S.jpg" type="Texture" id=6]

[sub_resource type="PlaneShape" id=1]

[sub_resource type="SpatialMaterial" id=2]
albedo_texture = ExtResource( 3 )
uv1_scale = Vector3( 500, 500, 500 )

[sub_resource type="PlaneMesh" id=3]
material = SubResource( 2 )
size = Vector2( 1000, 1000 )
subdivide_width = 10
subdivide_depth = 10

[sub_resource type="Curve3D" id=4]
_data = {
"points": PoolVector3Array( 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 12.3229, 0.165511, -20.5831, 0, 0, 0, 0, 0, 0, 15.1292, -0.214644, -19.9765, 0, 0, 0, 0, 0, 0, 17.0408, -0.15224, -18.6074, 0, 0, 0, 0, 0, 0, 20.5438, -0.0378861, -16.0986, 0, 0, 0, 0, 0, 0, 20.9215, 0.476514, -12.2054, 0, 0, 0, 0, 0, 0, 21.1659, 0.809298, -9.68674, 0, 0, 0, 0, 0, 0, 21.4167, 1.15083, -7.10188, 0, 0, 0, 0, 0, 0, 21.4327, 1.86204, -4.17247, 0, 0, 0, 0, 0, 0, 21.4493, 2.60209, -1.12424, 0, 0, 0, 0, 0, 0, 21.4826, 4.08295, 4.97531, 0, 0, 0, 0, 0, 0, 21.5177, 5.64632, 11.4147, 0, 0, 0, 0, 0, 0, 21.5765, 6.56571, 15.3985, 0, 0, 0, 0, 0, 0, 21.6328, 7.44569, 19.2117, 0, 0, 0, 0, 0, 0, 21.6763, 8.12632, 22.1609, 0, 0, 0, 0, 0, 0, 21.7229, 8.85466, 25.3169, 0, 0, 0, 0, 0, 0, 21.7637, 9.49259, 28.0811, 0, 0, 0, 0, 0, 0, 21.813, 10.2644, 31.4255, 0, 0, 0, 0, 0, 0, 21.8886, 11.4467, 36.5487, 0, 0, 0, 0, 0, 0, 21.7887, 12.483, 40.3236, 0, 0, 0, 0, 0, 0, 21.6749, 13.6634, 44.6232, 0, 0, 0, 0, 0, 0, 21.5722, 14.7292, 48.5057, 0, 0, 0, 0, 0, 0, 21.0721, 15.2503, 51.2553, 0, 0, 0, 0, 0, 0, 20.482, 15.8652, 54.4998, 0, 0, 0, 0, 0, 0, 19.8538, 16.5197, 57.9539, 0, 0, 0, 0, 0, 0, 17.6904, 18.206, 62.1565, 0, 0, 0, 0, 0, 0, 13.7574, 20.0495, 65.0468, 0, 0, 0, 0, 0, 0, 9.71908, 20.723, 66.345, 0, 0, 0, 0, 0, 0, 6.36521, 21.2824, 67.4232, 0, 0, 0, 0, 0, 0, 3.23065, 21.3355, 67.505, 0, 0, 0, 0, 0, 0, 0.18144, 21.3871, 67.5845, 0, 0, 0, 0, 0, 0, -2.35958, 21.4302, 67.6508, 0, 0, 0, 0, 0, 0, -6.76511, 21.5048, 67.7658, 0, 0, 0, 0, 0, 0, -9.48763, 21.5509, 67.8368, 0, 0, 0, 0, 0, 0, -12.6814, 21.605, 67.9201, 0, 0, 0, 0, 0, 0, -16.3285, 21.6668, 68.0152, 0, 0, 0, 0, 0, 0, -19.2626, 21.7165, 68.0918, 0, 0, 0, 0, 0, 0, -25.007, 21.8138, 68.2417, 0, 0, 0, 0, 0, 0, -30.2995, 21.9034, 68.3797, 0, 0, 0, 0, 0, 0, -33.3731, 21.9555, 68.4599, 0, 0, 0, 0, 0, 0, -37.4519, 22.0245, 68.5663, 0, 0, 0, 0, 0, 0, -40.3833, 22.0742, 68.6428, 0, 0, 0, 0, 0, 0, -43.7933, 21.6096, 68.2946, 0, 0, 0, 0, 0, 0, -47.8379, 21.0838, 68.3005, 0, 0, 0, 0, 0, 0, -52.2852, 20.0557, 67.8394, 0, 0, 0, 0, 0, 0, -55.4295, 19.2961, 66.6249, 0, 0, 0, 0, 0, 0, -56.7559, 18.6621, 65.3881, 0, 0, 0, 0, 0, 0, -59.8538, 17.1814, 62.4993, 0, 0, 0, 0, 0, 0, -61.2413, 14.8614, 58.3398, 0, 0, 0, 0, 0, 0, -62.2126, 13.2373, 55.4278, 0, 0, 0, 0, 0, 0, -62.5846, 11.9737, 52.266, 0, 0, 0, 0, 0, 0, -62.9602, 10.6977, 49.0733, 0, 0, 0, 0, 0, 0, -62.9769, 8.31571, 44.1305, 0, 0, 0, 0, 0, 0, -62.9881, 6.71506, 40.8091, 0, 0, 0, 0, 0, 0, -62.9276, 5.25161, 37.5335, 0, 0, 0, 0, 0, 0, -62.8598, 3.61146, 33.8625, 0, 0, 0, 0, 0, 0, -62.7963, 2.07583, 30.4254, 0, 0, 0, 0, 0, 0, -62.7385, 0.676469, 27.2933, 0, 0, 0, 0, 0, 0, -61.5741, 0.598588, 21.5904, 0, 0, 0, 0, 0, 0, -59.064, 0.0656295, 18.4731, 0, 0, 0, 0, 0, 0, -53.8251, -0.0229936, 16.9408, 0, 0, 0, 0, 0, 0, -48.2968, -0.284468, 19.4006, 0, 0, 0, 0, 0, 0, -45.3394, 0.36611, 20.7902, 0, 0, 0, 0, 0, 0, -42.6153, 0.965371, 22.0702, 0, 0, 0, 0, 0, 0, -39.4151, 1.11408, 23.6815, 0, 0, 0, 0, 0, 0, -36.2652, 1.26046, 25.2675, 0, 0, 0, 0, 0, 0, -32.8235, 1.4204, 27.0005, 0, 0, 0, 0, 0, 0, -29.1527, 1.59098, 28.8488, 0, 0, 0, 0, 0, 0, -23.6699, 1.84577, 31.6094, 0, 0, 0, 0, 0, 0, -20.521, 1.9921, 33.1949, 0, 0, 0, 0, 0, 0, -17.8826, 2.1147, 34.5234, 0, 0, 0, 0, 0, 0, -14.5728, 2.26851, 36.1899, 0, 0, 0, 0, 0, 0, -9.15865, 1.31319, 39.2475, 0, 0, 0, 0, 0, 0, -6.15501, 1.08417, 40.9339, 0, 0, 0, 0, 0, 0, -2.21358, 0.783647, 43.1468, 0, 0, 0, 0, 0, 0, 1.24608, 0.922985, 41.4058, 0, 0, 0, 0, 0, 0, 3.236, 1.00313, 40.4044, 0, 0, 0, 0, 0, 0, 3.4644, 1.92915, 35.9126, 0, 0, 0, 0, 0, 0, 1.46546, 1.41524, 30.7574, 0, 0, 0, 0, 0, 0, -1.02178, 1.30318, 26.7021, 0, 0, 0, 0, 0, 0, -4.35554, 2.16133, 22.8453, 0, 0, 0, 0, 0, 0, -7.55509, 2.61086, 20.2651, 0, 0, 0, 0, 0, 0, -11.1135, 3.1108, 17.3954, 0, 0, 0, 0, 0, 0, -14.0604, 3.56251, 14.6803, 0, 0, 0, 0, 0, 0, -15.9427, 3.85103, 12.9461, 0, 0, 0, 0, 0, 0, -18.4554, 4.07906, 10.3983, 0, 0, 0, 0, 0, 0, -20.2095, 4.23824, 8.61977, 0, 0, 0, 0, 0, 0, -21.9591, 4.28564, 4.3999, 0, 0, 0, 0, 0, 0, -23.0662, 4.31563, 1.72965, 0, 0, 0, 0, 0, 0, -22.7048, 3.66498, -0.923878, 0, 0, 0, 0, 0, 0, -22.106, 2.58687, -5.3207, 0, 0, 0, 0, 0, 0, -21.5909, 2.40698, -7.82136, 0, 0, 0, 0, 0, 0, -20.7198, 2.10274, -12.0506, 0, 0, 0, 0, 0, 0, -18.2106, 2.21654, -15.8723, 0, 0, 0, 0, 0, 0, -16.6233, 2.28853, -18.29, 0, 0, 0, 0, 0, 0, -12.546, 3.05147, -20.1715, 0, 0, 0, 0, 0, 0, -8.84741, 2.82147, -20.8936, 0, 0, 0, 0, 0, 0, -3.59883, 2.49509, -21.9184, 0, 0, 0, 0, 0, 0, -0.381405, 2.15582, -21.7827, 0, 0, 0, 0, 0, 0, 2.29371, 1.87373, -21.6698, 0, 0, 0, 0, 0, 0, 6.20041, 1.15294, -21.4177, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098, 0, 0, 0, 0, 0, 0, 9.42335, 0.558305, -21.2098 ),
"tilts": PoolRealArray( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 )
}

[sub_resource type="Shader" id=5]
code = "shader_type spatial;
uniform sampler2D road_texture;
void fragment()
{
	vec2 road_uv = vec2(UV.y,UV.x);
	vec4 color = texture(road_texture,road_uv);
	ALBEDO = color.rgb;
	METALLIC = 0.0;
	ROUGHNESS = 0.8;	
}"

[sub_resource type="ShaderMaterial" id=6]
shader = SubResource( 5 )
shader_param/road_texture = ExtResource( 6 )

[node name="Main" type="Spatial"]

[node name="Car" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 53.7398, 25.9059, 22.0345 )

[node name="Car" parent="Car" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.78197, -14.0505, -38.082 )
script = ExtResource( 2 )

[node name="Ground" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Ground"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Ground"]
mesh = SubResource( 3 )
material/0 = ExtResource( 4 )

[node name="Sun" type="DirectionalLight" parent="."]
transform = Transform( 0.888873, 0.446255, -0.103738, -0.0345112, 0.290999, 0.956101, 0.456853, -0.846272, 0.274062, -146.954, 105.209, 127.037 )
shadow_enabled = true

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.72935, 10.2731, 0 )
script = ExtResource( 5 )
follow_this_path = NodePath("../Car/Car")

[node name="Track" type="Spatial" parent="."]

[node name="Path" type="Path" parent="Track"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 19.5064, 1.10356, -23.2813 )
curve = SubResource( 4 )

[node name="Road" type="CSGPolygon" parent="Track/Path"]
invert_faces = true
polygon = PoolVector2Array( -4, 0, -4, 0.1, 4, 0.1, 4, 0 )
mode = 2
path_node = NodePath("..")
path_interval = 1.0
path_rotation = 2
path_local = false
path_continuous_u = false
path_joined = true
smooth_faces = true
material = SubResource( 6 )

[node name="Collisionshape" type="CSGPolygon" parent="Track/Path"]
visible = false
use_collision = true
invert_faces = true
polygon = PoolVector2Array( -4, 0, 4, 0, 4, 2, 8, 2, 8, -1, -8, -1, -8, 2, -4, 2 )
mode = 2
path_node = NodePath("..")
path_interval = 1.0
path_rotation = 2
path_local = false
path_continuous_u = false
path_joined = true
smooth_faces = true

[node name="Ground" type="CSGPolygon" parent="Track/Path"]
polygon = PoolVector2Array( -4, -0.1, 4, -0.1, 8, -2, 1.1, -4.1, -12.1, -4.1, -12, -4 )
mode = 2
path_node = NodePath("..")
path_interval = 1.0
path_rotation = 2
path_local = false
path_continuous_u = false
path_joined = true
smooth_faces = true
material = ExtResource( 4 )
